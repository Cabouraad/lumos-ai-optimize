<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Llumos</title>
    <meta name="description" content="AI-powered brand visibility optimization" />
    <meta name="author" content="Llumos" />
    
    <!-- Favicon -->
    <link rel="icon" href="/lovable-uploads/a3631033-2657-4c97-8fd8-079913859ab0.png" type="image/png">

    <meta property="og:title" content="Llumos" />
    <meta property="og:description" content="AI-powered brand visibility optimization" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="/lovable-uploads/a3631033-2657-4c97-8fd8-079913859ab0.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@Llumos" />
    <meta name="twitter:image" content="/lovable-uploads/a3631033-2657-4c97-8fd8-079913859ab0.png" />
    
    <!-- Eliminate render-blocking fonts completely -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Preconnect to own domain for faster resource loading -->
    <link rel="preconnect" href="https://lumos-ai-optimize.lovable.app">
    <link rel="dns-prefetch" href="//lumos-ai-optimize.lovable.app">
    
    <!-- Preload critical font file directly -->
    <link rel="preload" href="https://fonts.gstatic.com/s/inter/v19/UcC73FwrK3iLTeHuS_nVMrMxCp50SjIa1ZL7W0Q5nw.woff2" as="font" type="font/woff2" crossorigin>
    
    <!-- Preload critical JavaScript modules to reduce dependency chains -->
    <script>
      // Dynamically determine and preload critical JS modules
      (function() {
        // Get the base path from the current script or location
        var basePath = window.location.origin;
        
        // Function to add modulepreload
        function addModulePreload(href) {
          var link = document.createElement('link');
          link.rel = 'modulepreload';
          link.href = href;
          document.head.appendChild(link);
        }
        
        // Preload critical modules when DOM starts loading
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', function() {
            // Find and preload main JS bundle and critical chunks
            var scripts = document.querySelectorAll('script[type="module"][src]');
            scripts.forEach(function(script) {
              if (script.src && script.src.includes('/assets/') && script.src.includes('.js')) {
                addModulePreload(script.src);
              }
            });
          });
        }
      })();
    </script>
    
    <!-- Completely async font loading using JavaScript -->
    <script>
      (function() {
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = 'https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap';
        link.media = 'print';
        link.onload = function() { this.media = 'all'; };
        document.head.appendChild(link);
      })();
    </script>
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"></noscript>
    
    <!-- Aggressive CSS render-blocking prevention -->
    <script>
      (function() {
        // Immediately defer any CSS that gets loaded
        var originalAppendChild = Document.prototype.appendChild || HTMLElement.prototype.appendChild;
        
        function deferCSS(link) {
          if (link.rel === 'stylesheet' && link.href && link.href.includes('/assets/') && link.href.includes('.css')) {
            link.media = 'print';
            link.onload = function() {
              this.media = 'all';
              this.onload = null;
            };
            // Fallback for browsers that don't support onload
            setTimeout(function() {
              if (link.media === 'print') {
                link.media = 'all';
              }
            }, 100);
          }
        }
        
        // Override appendChild to catch dynamically added CSS
        Document.prototype.appendChild = HTMLElement.prototype.appendChild = function(child) {
          if (child.tagName === 'LINK') {
            deferCSS(child);
          }
          return originalAppendChild.call(this, child);
        };
        
        // Process existing CSS links immediately
        var processExistingCSS = function() {
          var cssLinks = document.querySelectorAll('link[rel="stylesheet"]');
          cssLinks.forEach(deferCSS);
        };
        
        // Process immediately if DOM is already loading
        if (document.readyState !== 'loading') {
          processExistingCSS();
        } else {
          document.addEventListener('DOMContentLoaded', processExistingCSS);
        }
        
        // Also process on window load as a final fallback
        window.addEventListener('load', function() {
          var cssLinks = document.querySelectorAll('link[rel="stylesheet"][media="print"]');
          cssLinks.forEach(function(link) {
            if (link.href && link.href.includes('/assets/') && link.href.includes('.css')) {
              link.media = 'all';
            }
          });
        });
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
